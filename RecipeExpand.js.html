<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RecipeExpand.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Directions.html">Directions</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="GliderRecipe.html">GliderRecipe</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="IngredientsInfo.html">IngredientsInfo</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="NavBar.html">NavBar</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="RecipeCard.html">RecipeCard</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="RecipeInfo.html">RecipeInfo</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="RecipePage.html">RecipePage</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Router.html">Router</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Router.html#addPage">addPage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Router.html#navigate">navigate</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SavedRecipePage.html">SavedRecipePage</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#addRecipeToSaved">addRecipeToSaved</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#bindPopState">bindPopState</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#bindRecipeCard">bindRecipeCard</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#convertTime">convertTime</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createIngredientList">createIngredientList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getCategories">getCategories</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getDescription">getDescription</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getImage">getImage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getIngredients">getIngredients</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getInstructions">getInstructions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getOrganization">getOrganization</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getRecipes">getRecipes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getRecipeTitle">getRecipeTitle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getTitle">getTitle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getUrl">getUrl</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getUserInfo">getUserInfo</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getYield">getYield</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#hasRecipe">hasRecipe</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#init">init</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#isSaved">isSaved</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#recipePage">recipePage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#recipesPage">recipesPage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#removeRecipeFromSaved">removeRecipeFromSaved</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#renderNavBar">renderNavBar</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#renderRecipes">renderRecipes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#retrieveJSONFromPage">retrieveJSONFromPage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#savedRecipesPage">savedRecipesPage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#searchForKey">searchForKey</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">RecipeExpand.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// RecipeExpand.js
class RecipeExpand extends HTMLElement {
  constructor() {
    super();
    this.attachShadow({ mode: "open" });

    // Create styles and root element
    const styles = document.createElement("style");
    const article = document.createElement("article");

    // Fill in styles and root element
    styles.innerHTML = `
        article {
          background-color: white;
          box-shadow: 0 0 10px rgb(0 0 0 / 15%);
          margin: 30px auto;
          max-width: 720px;
          padding: 25px;
          transition: all 0.2s ease;
          width: 80%;
        }
        div.rating--wrapper {
          align-items: center;
          column-gap: 5px;
          display: flex;
          justify-items: center;
          margin-top: 10px;
        }
        
        div.rating--wrapper > img {
          height: auto;
          display: inline-block;
          object-fit: scale-down;
          width: 78px;
        }
        header {
          align-items: flex-start;
          column-gap: 10px;
          display: grid;
          grid-template-areas:
           'title title img'
           'meta meta img'
           'desc desc img';
        }
        header p {
          margin: 0;
        }
        header > h1 {
          font-size: 2rem;
          font-weight: 500;
          grid-area: title;
          margin: -10px 0 0 0;
          padding: 0;
        }
        h2 {
          font-size: 1.5rem;
          font-weight: 500;
          margin: 35px 0 0 0;
        }
        header > div.meta--wrapper {
          display: grid;
          grid-area: meta;
          margin: 10px 0;
          row-gap: 4px;
        }
        header > div.meta--wrapper p,
        main > div.rating--wrapper {
          color: gray;
          font-style: italic;
        }
        header > div.meta--wrapper 
        :is(.meta--yield, .meta--total-time, .meta--categories) {
          color: black;
          font-style: normal;
          font-weight: 600;
        }
        header img.thumbnail {
          aspect-ratio: 1;
          grid-area: img;
          object-fit: cover;
          overflow: hidden;
          width: 230px;
        }
        header p.description {
          height: 62px;
          line-height: 20px;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        main > .section--ingredients,
        main > .section--instructions {
          font-size: 1.1rem;
        }
        span.rating-total {
          margin-left: -2px;
        }
        ol, ul {
          margin-top: 10px;
        }
        ol li:not(:first-child) {
          margin-top: 15px;
        }
        ol li::marker {
          padding-right: 5px;
        }
        ul li {
          padding-left: 2px;
        }
        ul li:not(:first-child) {
          margin-top: 8px;
        }
      `;
    article.innerHTML = `
        &lt;header>
          &lt;h1>&lt;/h1>
          &lt;div class="meta--wrapper">
            &lt;p>yield: &lt;span class="meta--yield">&lt;/span>&lt;/p>
            &lt;p>total time: &lt;time class="meta--total-time">&lt;/time>&lt;/p>
            &lt;p>categories: &lt;span class="meta--categories">&lt;/span>&lt;/p>
          &lt;/div>
          &lt;p class="description">&lt;/p>
          &lt;img src="" alt="" class="thumbnail" />
        &lt;/header>
        &lt;main>
          &lt;div class="rating--wrapper">
            &lt;span class="rating--value">&lt;/span>
            &lt;img src="" alt="" class="rating--star-img" />
            &lt;span class="rating--total">&lt;/span>
          &lt;/div>
          &lt;section class="section--ingredients">
            &lt;h2>INGREDIENTS&lt;/h2>
            &lt;ul>&lt;/ul>
          &lt;/section>
          &lt;section class="section--instructions">
            &lt;h2>INSTRUCTIONS&lt;/h2>
            &lt;ol>&lt;/ol>
          &lt;/section>
        &lt;/main>
      `;

    // Append elements to the shadow root
    this.shadowRoot.append(styles, article);
  }

  /**
   * Sets the recipe that will be used inside the &lt;recipe-expand> element.
   * Overwrites the previous recipe, fair warning.
   */
  set data(data) {
    this.json = data;

    // Reset HTML
    this.shadowRoot.querySelector("article").innerHTML = `
        &lt;header>
          &lt;h1>&lt;/h1>
          &lt;div class="meta--wrapper">
            &lt;p>yield: &lt;span class="meta--yield">&lt;/span>&lt;/p>
            &lt;p>total time: &lt;time class="meta--total-time">&lt;/time>&lt;/p>
            &lt;p>categories: &lt;span class="meta--categories">&lt;/span>&lt;/p>
          &lt;/div>
          &lt;p class="description">&lt;/p>
          &lt;img src="" alt="" class="thumbnail" />
        &lt;/header>
        &lt;main>
          &lt;div class="rating--wrapper">
            &lt;span class="rating--value">&lt;/span>
            &lt;img src="" alt="" class="rating--star-img" />
            &lt;span class="rating--total">&lt;/span>
          &lt;/div>
          &lt;section class="section--ingredients">
            &lt;h2>INGREDIENTS&lt;/h2>
            &lt;ul>&lt;/ul>
          &lt;/section>
          &lt;section class="section--instructions">
            &lt;h2>INSTRUCTIONS&lt;/h2>
            &lt;ol>&lt;/ol>
          &lt;/section>
        &lt;/main>
      `;

    // Set Title
    const title = getTitle(data).toUpperCase();
    this.shadowRoot.querySelector("header > h1").innerHTML = title;

    // Set the Servings yield
    const servingsYield = getYield(data);
    this.shadowRoot.querySelector(".meta--yield").innerHTML = servingsYield;

    // Set the total time
    const totalTime = convertTime(searchForKey(data, "totalTime"));
    this.shadowRoot.querySelector(".meta--total-time").innerHTML = totalTime;

    // Set Categories
    const categories = getCategories(data);
    this.shadowRoot.querySelector(".meta--categories").innerHTML = categories;

    // Set Description
    const description = getDescription(data);
    this.shadowRoot.querySelector("p.description").innerHTML = description;

    // Set Image
    const imgSrc = getImage(data);
    const img = this.shadowRoot.querySelector("img.thumbnail");
    img.setAttribute("src", imgSrc);
    img.setAttribute("alt", title);

    // Set Ratings
    const ratingVal = searchForKey(data, "ratingValue");
    let ratingTotal = searchForKey(data, "ratingCount");
    const rating = this.shadowRoot.querySelector(".rating--wrapper");
    const numStars = Math.round(ratingVal);
    if (ratingVal) {
      rating.innerHTML = `
        &lt;img src="assets/images/icons/${numStars}-star.svg" alt="${numStars} stars">
        &lt;span>${ratingVal}&lt;/span>
        from
        `;
      if (!ratingTotal) {
        ratingTotal = "some";
      }
      rating.innerHTML += `&lt;span class="rating-total">${ratingTotal} votes&lt;/span>`;
    } else {
      rating.innerHTML = `
          &lt;span>No Reviews&lt;/span>
        `;
    }

    // Set Ingredients
    const ingredients = getIngredients(data);
    ingredients.forEach((ingredient) => {
      const listItem = document.createElement("li");
      listItem.innerHTML = ingredient;
      this.shadowRoot
        .querySelector(".section--ingredients > ul")
        .append(listItem);
    });

    // Set Instructions
    const instructions = getInstructions(data);
    instructions.forEach((instruction) => {
      const listItem = document.createElement("li");
      listItem.innerHTML = instruction;
      this.shadowRoot
        .querySelector(".section--instructions > ol")
        .append(listItem);
    });
  }

  /**
   * Returns the object of the currect recipe being used.
   */
  get data() {
    return this.json;
  }
}

customElements.define("recipe-expand", RecipeExpand);
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.4</a> on Mon Nov 29 2021 16:42:13 GMT+0000 (Coordinated Universal Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
